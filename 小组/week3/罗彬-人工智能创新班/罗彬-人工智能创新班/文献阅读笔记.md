# VD Blondel_StateDependentMAS_2009

> 标题：On Krause’s Multi-Agent Consensus Model With State-Dependent Connectivity
> 作者：Vincent D. Blondel, Julien M. Hendrickx, John N. Tsitsiklis
> 机构：*IEEE*
> 引用：V. D. Blondel, J. M. Hendrickx, and J. N. Tsitsiklis, "On Krause’s Multi-Agent Consensus Model With State-Dependent Connectivity," in IEEE Transactions on Automatic Control, vol. 54, no. 11, pp. 2586-2598, Nov. 2009, doi: 10.1109/TAC.2009.2031211.

## 研究问题 Research Question

研究和预测智能体之间的相互影响的结果，导致的集群动态变化和意见集群形成

### 科学问题 Science Question

**集群形成的机制**：在意见动态变化的过程中，形成分离的意见集群的原理，以及这些集群之间的距离

**稳定性和均衡性**：在达到一种意见分布后，系统是否能够保持稳定 ~~就是抗压能力~~

### 研究核心 Core of the research

#### 核心公式

![](plot\formula(1).png)

- *xi*(*t*) 表示在时间 t 时智能体 i 的观点或意见

- *xi*(*t+1*) 表示在时间 t+1时智能体 i 被更新的新观点或意见

- |*xi(t)*-*xj(t)*|表示 i 和 j 智能体间的距离，**小于1时代表着是邻居**，*xi*(*t+1*)将受到影响

**含义**

智能体会在每一个**时间t**中*（代码复现时是迭代次数）*结合附近的邻居智能体的意见，去**调整自己的意见**，而这个调整的权重（单个智能体的调整权重）和邻居的数量成反比，也就是说邻居越多，**更容易受平均意见**的影响，而不是单一邻居的意见影响

**结果**

随着时间变化，智能体的意见将逐步靠近，并最终**收敛**到一个**意见集群**中

### 研究意义 Research significance

提供了一个理论框架，可以**分析和预测**多智能体系统中的**动态改变的意见**，有助于理解和设计能够协作的多智能体系统

### 现有方法的不足 Shortcomings of existing algorithm

**收敛速度慢**：对于大规模的智能体系统，现有方法可能无法有效地处理智能体数量的增加，导致收敛速度变慢或者分析方法变得复杂

**交互规则的局限性**：在Krause模型中，智能体根据与**邻居**的意见差异来更新自己的意见，现有方法可能没有充分考虑智能体之间的连接性如何依赖于它们的状态，比如智能体之间的**链接强度**或者**链接的权重**不同，这可能导致对现实生活集群形成和意见动态的理解不够全面

### 结论 Conclusion

- 智能体的意见最终会收敛到集群中，使得**同一集群**中的**所有智能体**持有相同或非常接近的意见
- 当智能体的意见**收敛到集群**后，集群能够在受到小扰动时保持稳定，也就是添加或删除一些智能体**不会产生较大的影响**
- **大型离散**智能体模型的行为可以通过**连续**智能体模型来近似，为大规模系统的行为提供了一个可行的模拟方案

---

## 理论与方法 Theory and Method

**理论**：智能体会在每一个**时间t**中结合附近的邻居智能体的意见，去**调整自己的意见**，而这个调整的权重（单个智能体的调整权重）和邻居的数量成反比，也就是说邻居越多，**更容易受平均意见**的影响，而不是单一邻居的意见影响

**方法**：采用了数学证明和连续智能体模型的方法来分析多智能体系统中的意见动态

- 通过数学证明来确保模型的收敛性
- 使用连续模型来模拟和分析大规模系统中的行为

---

## 实验 Experiment

### fig.5![](/plot/fig5.png)

#### 复现细节

**初始意见分布**

- 在区间 [0, 2.5] 上，有 251 个智能体，它们的意见均匀分布
- 在区间 [2.5, 3] 上，有 500 个智能体，它们的意见也均匀分布
- 这两个区间的意见密度不同，第二个区间（[2.5, 3]）的意见密度是第一个区间（[0, 2.5]）的十倍

**含义解释**

- 随着迭代次数的增加，每个智能体意见的变化，最终会收敛到一个稳定的意见集群中

#### 结果

**收敛到稳定平衡**

- 通过模拟智能体之间的交互，意见最终收敛到两个集群，一个是2.61，一个是1
- 第一个集群包含 153 个智能体，第二个集群包含 598 个智能体
- 这两个集群之间的意见距离是 1.6138，这个值大于 1.2559（计算方法是 1 + 153/598），表明集群之间的距离小于 2，满足稳定平衡的条件
- 这可以在这个公式中验证<img src="/plot/distance.png" style="zoom: 67%;" />
- Wa指的是在同一位置上的智能体集合，Xa Xb指的是两个集群的位置，m是两个意见集群的质量中心，也就是平均数

**结论**

- 在多智能体系统中，即使初始意见**分布密度不同**，智能体也可以通过**局部交互**最终形成意见集群，这些稳定的集群代表了系统中的主要意见

- 集群稳定在2倍阈值之间，最终集群之间**不会成为邻居**，也就是不会形成链接，同时距离**大于最小距离**，保持系统的**整体连贯性** *（最小距离的公式在上方）*

- 当**使用更多的智能体**时，如果保持初始意见分布的密度比例不变，也就是**让两个区间的数量比值相同**，也会得到类似的结果。这表明系统的动态行为在一定程度上是尺度不变的，即**系统的主要意见不会因为智能体数量的增加而改变**

### fig.2

### <img src="/plot/fig2.png" style="zoom:67%;" />

#### 复现细节

**L：初始意见分布区间的长度**

创建5000个智能体，让他们在L（意见区间） 上**随机分布**（大数据量随机分布）

创建500个智能体，让他们在L（意见区间）上**均匀分布**（小数据量均匀分布）

判断最终收敛后，记录**每个L**下收敛的**意见集群**，往下**偏移2/L**之后画图（相对于意见区间的中点），描绘随着L的变化，意见集群分布的变化

**含义解释**

- 在不同初始意见分布下，集群在平衡状态下的位置如何随着 L 的变化而变化


#### 结果

- 意见集群的分布范围大致和L呈线性增加
- **大数据量**下**随机分布**和**小数据量**下**均匀分布**呈现出相似的分布规律
- 意见集群的间距几乎不变

**结论**

- 均衡状态具有普遍性，也就是不同的L下都会有稳定收敛的意见集群点
- 无论是**均匀分布**还是**随机分布**的初始意见，只要**数据量够大**，最终的集群形成都表现出相似性

### fig.3

   <img src="/plot/fig3.png" style="zoom: 67%;" />

#### 复现细节

模拟意见区间在正无限区间上均匀分布，为了模拟取了0-30进行模拟，并截取了0-8的分布，x轴是迭代次数，对应t2

**含义解释**

随着时间的变化，意见区间从0到正无穷下的意见收敛变化

#### 结果

在足够长的迭代后，都能收敛到几个不同的集群点中，达到稳定所需的时间随L的增加而增加(正无穷情况下)

**结论**

即使意见分布区间在**半无限区间**上，也能有稳定的集群点，间距大约是2.2，意义是增加更多的智能体也能达到稳定状态，代表模型具有**可扩展性**

### fig4

  <img src="/plot/fig4.png" style="zoom: 67%;" />

**含义解释**

一个**临时亚稳定**的例子，L的值为0-4

#### 结果

前面几次迭代形成了两个不互相交互的群体，两个群体中的一小部分都与位于中间的少数智能体进行交互，导致这两个分隔群体的距离慢慢减小，最终达到了距离小于1，从那个点开始，这些群体直接相互吸引并合并成一个单一的集群

**结论**

- 即使最初集群之间没有**直接**开始相互影响，它们也可能通过中间的智能体**间接影响**彼此，这种间接互动可能导致集群间的分离距离**逐渐缩小**，最终聚合为同一个集群
- 说明了多智能体系统可能不是一开始就达到稳定状态，而是可能**经历一系列中间状态**，最终才达到**稳定**

### fig6

   <img src="/plot/fig6a.png" style="zoom:50%;" /><img src="/plot/fig6b.png" style="zoom:50%;" />

#### 复现细节

运用了共同概率密度函数（PDF），将意见随机分布在（2.5,3）和（0,2.5）的区间上，并且（2.5,3）的意见密度比（0,2.5）要大，同时b图的智能体数量比a要大得多

#### 结果

**图a**

- 随时间演变，最终收敛到一个不稳定的平衡状态（距离是1.399，这个距离小于权重比例之和（1 + 152/349 ≈ 1.436））

**图b**

- 一开始分成了两个单独的意见集体，后来由于中间少数智能体的间接影响，导致最终合并成了一个稳定的意见集群

**结论**

图a的智能体数量少一些，系统最终达到了一个**不是很稳定的平衡状态**，这种状态在**增加**了初始的智能体数量后，也就是图b，就被打破了，最终收敛到一个**更加稳定**的集群中，达到更稳定的平衡状态

这表明随着智能体的数量增加，**系统的稳定性**可能会增加，也就是具有规模效应，**越大的多智能体系统**，在内部的相互沟通下，能达到**更加稳定**的状态

---

## 总结与思考 Summary and Reflections

论文讨论了在**多智能体系统**中，智能体如何通过**相互交流和影响**来达到意见的统一

研究的核心在于理解每个个体如何根据**周围环境**来调整自己的看法，并最终导致整个群体达到一种稳定的状态

这个模型为我们提供了研究智能体群体行为的方法，但它也有其局限性，特别是在处理大量个体和复杂情况的时候，可能会比较复杂比较慢，因此，未来的研究需要进一步扩展这个模型，使其能够更好地适应现实世界中的复杂情况，从而更好的设计和优化多智能体系统







**补**

# 多智能体文献阅读笔记

## 多智能体系统

### 特点

1. **分布式决策**：系统中的每个智能体都能够独立地做出决策，而不需要中央控制
2. **局部交互**：智能体之间通过局部通信进行信息交换，每个智能体通常只能与其邻居或已知的其他智能体直接交互
3. **协同合作**：智能体可以协同工作以完成共同的任务或达成共同的目标，例如编队飞行
4. **自适应性**：多智能体系统能够根据环境变化和系统状态自我调整和适应，以维持系统性能或实现更好的执行效果
5. **可扩展性**：系统可以通过增加更多的智能体来扩展其功能和性能，而不会对现有系统造成过大的干扰

### 领导者—跟随者系统

**角色分配**：分为领导者和跟随者

- **领导者**制定关键决策，控制整体，把信息分享给跟随者
- **跟随者**跟随领导者，实现协同工作

少量的跟随者出现问题，不影响整体的大致功能，只要领导者不出现大问题

## 拓扑结构

### 固定拓扑

在**多智能体系统**中，智能体之间的通信网络结构在一段时间内**保持不变**，在系统运行过程中，智能体之间的连接关系、通信路径和相互作用模式是**静态**的，不会因为外部条件或系统内部状态的变化而发生改变

也就是说**固定拓扑**在**图**中，**点与点之间的连线关系**不会改变

不适用于那些需要智能体动态交互或环境条件，不是那么适合实际环境

### 切换拓扑

在**多智能体系统**中，智能体之间的通信网络结构随**时间变化**，这种拓扑结构的特点是在系统运行过程中，智能体之间的连接关系、通信路径和相互作用模式可能发生改变

**切换拓扑**在实际应用中非常常见，无人机编队飞行、移动机器人群体协作都可以用切换拓扑构建
